{% extends "base.html" %}


{% load staticfiles %}


{% block title %}Welcome to Python{% endblock title %}


{% block nav_active_students %}active{% endblock %}


{% block content %}
      <div class="container">
        <div class="jumbotron transparant-background">
          <div class="page-header text-align-center">
          <h1>Students<small>of PyBursa</small></h1>
          </div>
          <!--<h2>Students</h2>-->

          {% if messages %}
            <ul class="messages">
                {% for message in messages %}
                <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>
                    {% if message.level == DEFAULT_MESSAGE_LEVELS.ERROR %}Important: {% endif %}
                    {{ message }}
                </li>
                {% endfor %}
            </ul>
          {% endif %}

          <p><a class="btn btn-primary" href="{% url 'students:add' %}" role="button">Add new student</a></p>
          <!--<a href="{% url 'students:add' %}">Add new student</a>-->
          <div class="panel panel-default transparant-background">
            <table class="table text-align-justify">
              <tr>
                <th>#</th>
                <th>Surname Name</th>
                  <th>Address</th>
                  <th>Skype</th>
                  <th>Courses</th>
                  <th></th>
              </tr>
              {% for student in student_list %}
                <tr>
                  <td>{{ forloop.counter }}</td>
                  <td><a href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}</a></td>
                  <td>{{ student.address }}</td>
                  <td>{{ student.skype }}</td>
                  {% for course in student.courses.all %}
                      {% ifequal forloop.counter 1 %}
                        {% include "include/row_include.html" %}
                        <!--<td><a href="{% url 'students:edit' student.id %}">Edit</a></td>-->
                      {% else %}
                        <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        {% include "include/row_include.html" %}
                        <!--<td><a href="{% url 'students:edit' student.id %}">Edit</a></td>-->
                        </tr>
                      {% endifequal %}
                  {% endfor %}
                </tr>
              {% endfor %}
            </table>
          </div>
<!--<div class="pagination">
    <span class="step-links">
        {% if page_obj.has_previous %}
            <a href="?page={{ page_obj.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ page_obj.number }} of {{ paginator.num_pages }}.
        </span>

        {% if page_obj.has_next %}
            <a href="?page={{ page_obj.next_page_number }}">next</a>
        {% endif %}
    </span>
</div>-->

<nav>
  <ul class="pagination">
    <li>
     {% if page_obj.has_previous %}
            <a href="{% url 'students:list_view' %}{{par_course}}page={{ page_obj.previous_page_number }}" aria-label="Previous"><< previous</a>
        {% endif %}
    </li>
    {% for page in pages %}
      {% ifequal page page_obj.number %}
      <li class="active"><a href="{% url 'students:list_view' %}{{par_course}}page={{ page }}">{{ page }}</a></li>
      {% else %}
        <li><a href="{% url 'students:list_view' %}{{par_course}}page={{ page }}">{{ page }}</a></li>
      {% endifequal %}
    {% endfor %}
    <li>
    {% if page_obj.has_next %}
            <a href="{% url 'students:list_view' %}{{par_course}}page={{ page_obj.next_page_number }}" aria-label="Next">next >></a>
        {% endif %}
    </li>
  </ul>
</nav>
        </div>
      </div>
{% endblock content %}
