{% extends "base.html" %}


{% load staticfiles %}


{% block title %}{{ title }}{% endblock title %}


{% block navbar_button_3 %}active{% endblock navbar_button_3 %}


{% block content %}

    <p>Below you can see a list of PyBursa students</p>

    <div class="stud-btn">
        <a href="{% url 'students:add' %}"><button type="button" class="btn btn-primary">
        <span class="glyphicon glyphicon-plus"></span>Add</button></a>
    </div>
    <hr>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>#</th>
            <th>Fullname</th>
            <th>Address</th>
            <th>Skype</th>
            <th>Courses</th>
            <th></th>
            <th></th>
        </tr>
        </thead>
        <tbody>
        {% for student in object_list %}
            <tr>
                <td>{{ student.id }}</td>
                <td><a href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}<a>
                <td>{{ student.address }}</td>
                <td>{{ student.skype }}</td>
                <td>{% for course in student.courses.all %}
                    <a href="{% url 'courses:detail' course.id %}">{{ course.name }}</a><br>{% endfor %}</td>
                <td class="table_center"><a href="{% url 'students:edit' student.id %}" class="btn btn-primary"><span
                        class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a></td>
                <td class="table_center"><a href="{% url 'students:remove' student.id %}" class="btn btn-primary"><span
                        class="glyphicon glyphicon-remove" aria-hidden="true"></span> Delete</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <br/>

    <ul class="pagination">

        {% if page_obj.has_previous %}
            <li><a href="?page={{ page_obj.previous_page_number }}"><< previous</a></li>
        {% endif %}

        {% for page in paginator.page_range %}
          {% if page == page_obj.number %}
            <li class="active"><a href="">{{ page }}<span class="sr-only"></span></a></li>
            {% else %}
            <li><a href="?page={{ page }}">{{ page }}<span class="sr-only"></span></a></li>
          {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <li><a href="?page={{ page_obj.next_page_number }}">next >></a></li>
        {% endif %}

    </ul>


{% endblock content %}


