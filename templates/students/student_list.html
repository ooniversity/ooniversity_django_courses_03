{% extends "base.html" %}


{% block title %}Students{% endblock title %}


{% load staticfiles %}


{% block nav_class_student %}active{% endblock %}


{% block content %}
{% if messages %}
    {% for message in messages %}
    <div class="jumbotron">
      {{ message }}
    </div>
    {% endfor %}
  {% endif %}
<a href="{% url 'students:add' %}"
  <button class="btn btn-default btn-lg dropdown-toggle" type="button"><span class="glyphicon glyphicon-plus" aria-hidden="true">Добавить нового студента</span>
  </button>
</a>
<h1>Список студентов</h1>  
<table class="table1">
  <tr>
    <th>Фамилия Имя</th>
    <th>Адрес</th>
    <th>skype</th>
    <th>курсы</th>
  </tr>
  {% for student in object_list %}
   <tr>
    <td><a href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}</a></td>
    <td>{{ student.address }}</td>
    <td>{{ student.skype }}</td>
    <td>{% for course in student.courses.all %}                
    <p><a href="{% url 'courses:detail' course.id %}">{{ course.name }}</p>
    {% endfor %}</td>
    <td><a href="{% url 'students:edit' student.id %}"
  <button class="btn btn-default btn-sm dropdown-toggle" type="button"><span class="glyphicon glyphicon-pencil" aria-hidden="true">Изменить</span>
  </button></td>
    <td><a href="{% url 'students:remove' student.id %}"
  <button class="btn btn-default btn-sm dropdown-toggle"type="button"><span class="glyphicon glyphicon-remove" aria-hidden="true">Удалить</span>
  </button></td>
  </tr>  
  {% endfor %}
  </table>
  <ul class="pagination">
    <li>
      {% if page_obj.has_previous %}
        <a href="?page={{ page_obj.previous_page_number }}"><< previous</a>
      {% endif %}
    </li>
    {% for pg in paginator.page_range %}
      {% if pg == page_obj.number %}
        <li class="active"><a href="">{{ pg }}</a>
        </li>
      {% else %}
        <li>
          <a href="?page={{ pg }}">{{ pg }}</a>
        </li>
      {% endif %}
    {% endfor %}
    <li>
      {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">next >></a>
      {% endif %}
    </li>
  </ul>
{% endblock content %} 

