{% extends "base.html" %}


{% load staticfiles %}

  
{% block title %}Student list{% endblock title %}


{% block active_students %}active{% endblock active_students %}


{% block content %} 
        
        
      

  <div class= "container">
   <div class="jumbotron">
    <h3 class="descr">Студенты курсов</h3>
   
    <div class="jumbotron">

      <div class="panel panel-default">
                  
      <a href="{% url 'students:add' %}">
      <button type="button" class="btn btn-success">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span>Добавить нового студента
      </button>
      </a>
                  <table class="table">
                    
                    <table class="table">
                    <thead>
                      <tr>
                        <th>#</th>
                        <th>Фамилия и имя</th>
                        <th>Адрес</th>
                        <th>Skype</th>
                        <th>Курсы</th>
                      </tr>
                    </thead>
                    <tbody>
          
                    {% for i in object_list %}
                    <tr>
                    
                    <td>{{ i.id }}</td>
                    <td><a href="{% url 'students:detail' i.id %}">{{ i.surname }} {{ i.name }}</a></td>
                    <td>{{ i.address }}</td>
                    <td>{{ i.skype }}</td>
                    <td>{% for k in i.courses.all %}<a href="{% url 'courses:detail' k.id %}">{{ k.name }}</a><br>{% endfor %}</td>
                     <td>
                  <a href="{% url 'students:edit' i.id %}">
                    <button type="button" class="btn btn-primary">
                      <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Изменить
                    </button>
                  </a>
                <td>
                <td>
                  <a href="{% url 'students:remove' i.id %}">
                    <button type="button" class="btn btn-danger">
                      <span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Удалить
                    </button>
                  </a>
                <td>
                    </tr>
                    {% endfor %}
          
                    </tbody>
                  </table>
          
                    </tbody>
                  </table>

          </div>
    <ul class="pagination">
      {% if page_obj.has_previous %}
          <li><a href="?page={{ page_obj.previous_page_number }}"><< previous</a></li>
      {% endif %} 
      {% for page in page_obj.paginator.page_range %}
          {% if page == page_obj.number %}
            <li class="active"><a href="?page={{ page }}">{{ page }}</a></li>
          {% else %}
            <li><a href="?page={{ page }}">{{ page }}</a></li>
          {% endif %}
        {% endfor %}
      {% if page_obj.has_next %}
          <li><a href="?page={{ page_obj.next_page_number }}">next >></a></li>
    {% endif %}
    </ul>
  
          
        
        </div>

      </div>
    </div>    
  
{% endblock content %}